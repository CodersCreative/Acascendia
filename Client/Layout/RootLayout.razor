@using MudBlazor
@using studbud.Client.Widgets
@inject IDialogService Dialog
@layout MinLayout
@inherits LayoutComponentBase

<div class="gradient-bg">
    <!-- Animated blobs (background elements) -->
    <div class="gradients-container">
        <div class="blob blob1"></div>
        <div class="blob blob2"></div>
        <div class="blob blob3"></div>
    </div>

    <!-- Scrollable content wrapper (foreground elements) -->
    <!-- This ID is targeted by the CSS to ensure scroll works -->
    <div id="main-scroll-container" class="scrollable-content">
        <MudLayout Class="no-x-overflow">
            <MudAppBar Elevation="0">
                <MudText Typo="Typo.h5" Class="ml-3">StudBud</MudText>
                <MudStack Row="true" Spacing="2" Class="ml-4">
                    <MudButton Variant="Variant.Text" Color="Color.Inherit" Href="/">Home</MudButton>
                    <MudButton Variant="Variant.Text" Color="Color.Inherit" Href="/flash">FlashCards</MudButton>
                </MudStack>
                <MudSpacer />
                <MudButton Variant="Variant.Text" Color="Color.Inherit" OnClick="OpenLoginDialog">Login</MudButton>
                <MudIconButton Icon="@Icons.Material.Filled.DarkMode" />
            </MudAppBar>

            <!-- MudMainContent should NOT have inline styles for height/overflow -->
            <MudMainContent>
                <Strips />
                @Body
                <Shortcuts />
                <MudPaper Class="mt-15 w-100 pa-4"
                          Style="background-color:#1e1e2d; width:100%; display:block; min-height:20vh;">
                    <MudStack Spacing="2">
                        <MudText Typo="Typo.h5">Information</MudText>
                        <MudDivider Light="true" Class="mb-4" />
                        <MudText Typo="Typo.body2" Class="ml-5">Our Plans</MudText>
                        <MudText Typo="Typo.body2" Class="ml-5">Help Center</MudText>
                        <MudText Typo="Typo.body2" Class="ml-5">Contact</MudText>
                    </MudStack>
                    <MudDivider Light="true" Class="mt-4" />
                    <MudText Typo="Typo.body2" Class="mt-2 mb-4">All rights reserved</MudText>
                </MudPaper>
            </MudMainContent>
        </MudLayout>
    </div>
</div>





<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">ðŸ—™</span>
</div>

@code {
    private bool _drawerOpen = true;

    private Task OpenLoginDialog()
    {
        return Dialog.ShowAsync<LoginDialog>("",new DialogOptions()
        {

            CloseOnEscapeKey = true 
        });
    }
}
